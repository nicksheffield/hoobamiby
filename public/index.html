<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Hoobamiby</title>
	<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,700|Roboto:400,300,100,100italic' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.3.0/pure-min.css">
	<link rel="stylesheet" href="/assets/css/style.css">
</head>
<body ng-app="app" ng-controller="cardsCtrl">

	<div class="container" ng-switch="stage" ng-cloak ng-class="{full: stage=='intro'||stage=='browse_games'}">

		<header ng-hide="stage=='intro'" ng-cloak ng-class="{dark:stage=='game'}">
			<ul class="navbar">
				<li ng-show="stage=='setup'&&player.host" ng-click="start()"><i class="fa fa-check"></i>Start Game</li>
				<li ng-hide="stage=='intro'||stage=='browse_games'" ng-click="leaveGame()" ng-class="{slide:stage=='game'}"><i class="fa fa-power-off"></i><span>Leave Game</span></li>
				<li ng-show="stage=='browse_games'" ng-click="createGame()"><i class="fa fa-plus"></i>Create Game</li>
			</ul>
		</header>

<!-- ################################################################################################################ -->
<!-- ################################################################################################################ -->
<!-- ################################################################################################################ -->

		<div class="intro panel" ng-switch-when="intro">
			<h1>Hoobamiby</h1>
			
			<form action="">
				
				<input type="text" id="player_name" ng-model="player.name" placeholder="What is your name?">

				<br>
				
				<button class="" ng-click="browse()">Enter</button>

			</form>
		</div>

<!-- ################################################################################################################ -->
<!-- ################################################################################################################ -->
<!-- ################################################################################################################ -->

		<div class="browse panel" ng-switch-when="browse_games">
			<h2>Current Games</h2>
			
			<ul class="rooms">
				<li ng-repeat="game in games" ng-click="joinGame()">
					<div class="title">{{game.name}}</div>
					<div class="info">
						<p>Players: {{game.players.length}}/{{game.player_limit}}</p>
						<p>Password: {{game.password.length}}</p>
					</div>
					<button class="join_button">Join</button>
				</li>
				<li ng-hide="games.length" class="no-games">There are no games</li>
			</ul>
		</div>

<!-- ################################################################################################################ -->
<!-- ################################################################################################################ -->
<!-- ################################################################################################################ -->

		<div class="setup panel" ng-switch-when="setup">
			<form action="" class="pure-form pure-form-stacked pure-g">
				<div class="pure-u-1">
					<h2>{{game.name}}</h2>
				</div>

				<div class="pure-u-1">
					<div class="pure-control-group">
						<label for="score_limit">Score Limit: <b>{{game.score_limit}}</b></label>
						<input type="range" min="2" max="15" id="score_limit" ng-model="game.score_limit" ng-change="changeSetting('score_limit')" ng-disabled="!player.host">
					</div>

					<div class="pure-control-group">
						<label for="player_limit">Max Players: <b>{{game.player_limit}}</b></label>
						<input type="range" min="2" max="11" id="player_limit" ng-model="game.player_limit" ng-change="changeSetting('player_limit')" ng-disabled="!player.host">
					</div>
				</div>

				<!--<div class="pure-u-1-2">
					<h3>Expansions</h3>

					<label for="expansion_1">
						<input type="checkbox" id="expansion_1" ng-model="game.expansions.first"> First Expansion
					</label>

					<label for="expansion_2">
						<input type="checkbox" id="expansion_2" ng-model="game.expansions.second"> Second Expansion
					</label>

					<label for="expansion_3">
						<input type="checkbox" id="expansion_3" ng-model="game.expansions.third"> Third Expansion
					</label>
				</div> -->
			</form>
		</div>

<!-- ################################################################################################################ -->
<!-- ################################################################################################################ -->
<!-- ################################################################################################################ -->

		<div class="game" ng-switch-when="game">
			<div ng-repeat="card in game.current_black" pick="{{card.pick}}" black data-text="{{card.text}}"></div>
	
			<div class="panel">
				<div card="symbol" ng-repeat="card in game.current_whites" ng-hide="game.reveal"><i class="fa fa-{{card.player.symbol}}"></i></div>
				<div card="white" ng-repeat="card in game.current_whites" ng-show="game.reveal" ng-class="{chosen: card.chosen}" answer judge>{{card.text}}</div>
			</div>
		</div>

<!-- ################################################################################################################ -->
<!-- ################################################################################################################ -->
<!-- ################################################################################################################ -->

		<div class="victory panel" ng-switch-when="victory">
			<h1>We have a winner!</h1>
			<p>{{game.winner.name}} with {{game.winner.score}} <em>Awesome Points</em>!</p>
		</div>


	</div>

<!-- ################################################################################################################ -->
<!-- ################################################################################################################ -->
<!-- ################################################################################################################ -->

	<div class="player" ng-hide="stage=='browse_games'||stage=='intro'" ng-cloak>

		<div class="left">
			<h2>Players</h2>
			<ul class="players">
				<li ng-repeat="player in game.players" ng-class="{czar: player.czar, winner: player.winner}" ng-cloak>
					<i class="fa fa-{{player.symbol}}"></i> {{player.name}} <span class="score">{{player.score}}</span>
				</li>
			</ul>
		</div>
		
		<div class="right">
			<h2>Your Hand</h2>
			<div class="you-are-czar" ng-show="player.czar" ng-cloak>You are the Czar</div>
			<div class="hand">
				<div card="white" class="small" answer inhand ng-repeat="card in player.hand" ng-class="{choose: !player.played_card}" ng-cloak>{{card}}</div>
			</div>
		</div>
		
	</div>

<!-- ################################################################################################################ -->
<!-- ################################################################################################################ -->
<!-- ################################################################################################################ -->

	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script src="/assets/js/main.js"></script>
</body>
</html>